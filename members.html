<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Members - Cognitive Neuroscience Lab</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">Cognitive Neuroscience Lab</div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="members.html">Members</a></li>
                    <li><a href="publications.html">Publications</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <section class="members">
            <div class="container">
                <h1>Our Members</h1>
                <div id="members-list">
                    <!-- Members will be dynamically loaded here -->
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2024 Cognitive Neuroscience Lab. All rights reserved.</p>
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch('members.json')
                .then(response => response.json())
                .then(data => {
                    const membersList = document.getElementById('members-list');
                    data.forEach(member => {
                        const memberDiv = document.createElement('div');
                        memberDiv.classList.add('member');

                        const img = document.createElement('img');
                        img.src = member.image;
                        img.alt = `${member.name}'s profile picture`;
                        memberDiv.appendChild(img);

                        const name = document.createElement('h2');
                        name.textContent = member.name;
                        memberDiv.appendChild(name);

                        const title = document.createElement('p');
                        title.classList.add('title');
                        title.textContent = member.title;
                        memberDiv.appendChild(title);

                        const bio = document.createElement('p');
                        bio.classList.add('bio');
                        bio.textContent = member.bio;
                        memberDiv.appendChild(bio);

                        const researchInterests = document.createElement('p');
                        researchInterests.classList.add('research-interests');
                        researchInterests.innerHTML = `<strong>Research Interests:</strong> ${member.research_interests}`;
                        memberDiv.appendChild(researchInterests);

                        const email = document.createElement('p');
                        email.classList.add('email');
                        email.innerHTML = `<strong>Email:</strong> <a href="mailto:${member.email}">${member.email}</a>`;
                        memberDiv.appendChild(email);

                        if (member.publications.length > 0) {
                            const publications = document.createElement('div');
                            publications.classList.add('publications');
                            const publicationsTitle = document.createElement('h3');
                            publicationsTitle.textContent = 'Selected Publications:';
                            publications.appendChild(publicationsTitle);

                            const publicationsList = document.createElement('ul');
                            member.publications.forEach(pub => {
                                const pubItem = document.createElement('li');
                                const pubLink = document.createElement('a');
                                pubLink.href = pub.link;
                                pubLink.target = "_blank";
                                pubLink.textContent = pub.title;
                                pubItem.appendChild(pubLink);
                                publicationsList.appendChild(pubItem);
                            });
                            publications.appendChild(publicationsList);
                            memberDiv.appendChild(publications);
                        }

                        membersList.appendChild(memberDiv);
                    });
                })
                .catch(error => console.error('Error fetching members:', error));
        });
    </script>
</body>
</html>